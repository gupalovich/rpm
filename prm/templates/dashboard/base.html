{% extends "base.html" %}

{% load static %}
{% load l10n %}
{% load i18n %}
{% load humanize %}
{% load dashboard_extras %}

{% block head_title %} - Dashboard{% endblock %}

{% block content %}
<img id="burger" src="{% static 'img/icons/menu_burger.svg' %}" alt="">
<div class="dashboard_body">
    <div id="sidenav" class="sidenav">
        <div class="side_logo"></div>
        <div class="menu">
            {% with request.resolver_match.url_name as current_url %}
            <a href="{% url 'dashboard:index' username=user.username %}" class="menu_item{% if current_url == 'index' %} active{% endif %}">

                <svg class="menu_icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_0_1779)">
                    <path d="M10.0001 19V14H14.0001V19C14.0001 19.55 14.4501 20 15.0001 20H18.0001C18.5501 20 19.0001 19.55 19.0001 19V12H20.7001C21.1601 12 21.3801 11.43 21.0301 11.13L12.6701 3.59997C12.2901 3.25997 11.7101 3.25997 11.3301 3.59997L2.9701 11.13C2.6301 11.43 2.8401 12 3.3001 12H5.0001V19C5.0001 19.55 5.4501 20 6.0001 20H9.0001C9.5501 20 10.0001 19.55 10.0001 19Z" />
                    </g>
                    <defs>
                        <clipPath id="clip0_0_1779">
                            <rect width="24" height="24" fill="white"/>
                        </clipPath>
                    </defs>
                </svg>
                <p class="menu_name">Dashboard</p>
                <div class="active_line"></div>

            </a>
            <a href="{% url 'dashboard:token' username=user.username %}" class="menu_item{% if current_url == 'token' %} active{% endif %}">

                <svg class="menu_icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_0_1563)">
                    <path d="M15.55 13C16.3 13 16.96 12.59 17.3 11.97L20.88 5.48C21.25 4.82 20.77 4 20.01 4H5.21L4.27 2H1V4H3L6.6 11.59L5.25 14.03C4.52 15.37 5.48 17 7 17H19V15H7L8.1 13H15.55ZM6.16 6H18.31L15.55 11H8.53L6.16 6ZM7 18C5.9 18 5.01 18.9 5.01 20C5.01 21.1 5.9 22 7 22C8.1 22 9 21.1 9 20C9 18.9 8.1 18 7 18ZM17 18C15.9 18 15.01 18.9 15.01 20C15.01 21.1 15.9 22 17 22C18.1 22 19 21.1 19 20C19 18.9 18.1 18 17 18Z" />
                    </g>
                    <defs>
                        <clipPath id="clip0_0_1563">
                            <rect width="24" height="24" fill="white"/>
                        </clipPath>
                    </defs>
                </svg>
                <p class="menu_name">Token</p>
                <div class="active_line"></div>

            </a>
            <a href="{% url 'dashboard:team' username=user.username %}" class="menu_item{% if current_url == 'team' %} active{% endif %}">

                <svg class="menu_icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_0_1563)">
                    <path d="M7.46683 10.7333H7.70016C8.5985 10.7333 9.3335 11.4683 9.3335 12.3667V20.5333C9.3335 21.4317 8.5985 22.1667 7.70016 22.1667H7.46683C6.5685 22.1667 5.8335 21.4317 5.8335 20.5333V12.3667C5.8335 11.4683 6.5685 10.7333 7.46683 10.7333V10.7333ZM14.0002 5.83334C14.8985 5.83334 15.6335 6.56834 15.6335 7.46668V20.5333C15.6335 21.4317 14.8985 22.1667 14.0002 22.1667C13.1018 22.1667 12.3668 21.4317 12.3668 20.5333V7.46668C12.3668 6.56834 13.1018 5.83334 14.0002 5.83334ZM20.5335 15.1667C21.4318 15.1667 22.1668 15.9017 22.1668 16.8V20.5333C22.1668 21.4317 21.4318 22.1667 20.5335 22.1667C19.6352 22.1667 18.9002 21.4317 18.9002 20.5333V16.8C18.9002 15.9017 19.6352 15.1667 20.5335 15.1667V15.1667Z" />
                    </g>
                    <defs>
                        <clipPath id="clip0_0_1563">
                            <rect width="24" height="24" fill="white"/>
                        </clipPath>
                    </defs>
                </svg>
                <p class="menu_name">Team</p>
                <div class="active_line"></div>

            </a>
            <a href="{% url 'dashboard:profile' username=user.username %}" class="menu_item{% if current_url == 'profile' %} active{% endif %}">
                <svg class="menu_icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_0_1555)">
                    <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V19C4 19.55 4.45 20 5 20H19C19.55 20 20 19.55 20 19V18C20 15.34 14.67 14 12 14Z" />
                    </g>
                    <defs>
                        <clipPath id="clip0_0_1555">
                            <rect width="24" height="24" fill="white"/>
                        </clipPath>
                    </defs>
                </svg>
                <p class="menu_name">Profile</p>
                <div class="active_line"></div>
            </a>
            <a href="http://main.prm4all.com/" class="menu_item{% if current_url == 'demo' %} active{% endif %}">
                <svg class="menu_icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_0_1555)">
                        <path d="M11.3023 2.69767C11.3023 2.31236 11.6147 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 9.20275 3.14943 6.67271 4.99997 4.8586C5.27512 4.58886 5.71684 4.59325 5.98658 4.8684C6.25632 5.14356 6.25193 5.58528 5.97677 5.85502C4.38291 7.41751 3.39535 9.59279 3.39535 12C3.39535 16.7522 7.24778 20.6047 12 20.6047C16.7522 20.6047 20.6047 16.7522 20.6047 12C20.6047 7.24778 16.7522 3.39535 12 3.39535C11.6147 3.39535 11.3023 3.08299 11.3023 2.69767Z" fill="#A3AED0"/>
                        <path d="M11.3023 5.48837C11.3023 5.10306 11.6147 4.7907 12 4.7907C15.9816 4.7907 19.2093 8.01841 19.2093 12C19.2093 15.9816 15.9816 19.2093 12 19.2093C8.01841 19.2093 4.7907 15.9816 4.7907 12C4.7907 11.6147 5.10306 11.3023 5.48837 11.3023C5.87369 11.3023 6.18605 11.6147 6.18605 12C6.18605 15.211 8.78904 17.814 12 17.814C15.211 17.814 17.814 15.211 17.814 12C17.814 8.78904 15.211 6.18605 12 6.18605C11.6147 6.18605 11.3023 5.87369 11.3023 5.48837Z" fill="#A3AED0"/>
                        <path d="M12 7.5814C11.6147 7.5814 11.3023 7.89375 11.3023 8.27907C11.3023 8.66438 11.6147 8.97674 12 8.97674C13.6697 8.97674 15.0233 10.3303 15.0233 12C15.0233 13.6697 13.6697 15.0233 12 15.0233C11.6147 15.0233 11.3023 15.3356 11.3023 15.7209C11.3023 16.1062 11.6147 16.4186 12 16.4186C14.4403 16.4186 16.4186 14.4403 16.4186 12C16.4186 9.55967 14.4403 7.5814 12 7.5814Z" fill="#A3AED0"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_0_1555">
                            <rect width="24" height="24" fill="white"/>
                        </clipPath>
                    </defs>
                </svg>
                <p class="menu_name">Demo PRM</p>
                <div class="active_line"></div>
            </a>
            <a href="{% url 'account_logout' %}" class="menu_item">
                <svg class="menu_icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_0_1551)">
                    <path d="M18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM12 17C10.9 17 10 16.1 10 15C10 13.9 10.9 13 12 13C13.1 13 14 13.9 14 15C14 16.1 13.1 17 12 17ZM9 8V6C9 4.34 10.34 3 12 3C13.66 3 15 4.34 15 6V8H9Z" />
                    </g>
                    <defs>
                        <clipPath id="clip0_0_1551">
                            <rect width="24" height="24" fill="white"/>
                        </clipPath>
                    </defs>
                </svg>

                <p class="menu_name">Sign Out</p>
            </a>
            {% endwith %}
        </div>
    </div>

    <div id="main" class="main">
        <p class="page_path">Pages / {% block crumbs_title %}Dashboard{% endblock %}</p>
        <div class="tile header">

            <div class="page_name_div">
                <h1 class="page_name">{% block page_title %}Dashboard{% endblock %}</h1>
            </div>
            <div class="bio_part">
                <button
                    {% if request.user.metamask_confirmed %}
                        id="invite_link"
                        class="btn btn-slim invite_link"
                        data-referral-link="{{ user_referral_link }}"
                    {% else %}
                        class="btn btn-slim invite_link disabled"
                        data-tippy-content="{% translate "Необходимо привязать metamask" %}"
                    {% endif %}>
                    <span>{% translate "Ссылка для приглашения" %}</span>
                    <span>{% translate "Скопировано" %}</span>
                </button>
                <a href=""
                    {% if request.user.metamask_confirmed %}
                        class="metamask_button"
                    {% else %}
                        class="metamask_button disabled"
                        data-tippy-content="{% translate "Metamask не подключен" %}"
                    {% endif %}>
                    <img src="{% static 'img/icons/metamask.svg'%}" alt="metamask">
                </a>
                <a href="{% url 'dashboard:profile' username=user.username %}">
                    <img class="avatar-img avatar_icon" src="{{ request.user.avatar.url }}" alt="Avatar">
                </a>
            </div>
        </div>
        {% block inner_top %}
        {% include "dashboard/components/user_balance.html" %}
        {% endblock inner_top %}

        {% block inner_bot %}{% endblock inner_bot %}

        <div class="footer">
            <p class="footer_text">© 2023 PRM4ALL. All Rights Reserved.</p>
            <div class="footer_links">
                <a href="#" class="footer_link">Web 3.0</a>
                <a href="#" class="footer_link">WhitePaper</a>
                <a href="#" class="footer_link">SmartContract</a>
            </div>
        </div>

    </div>
</div >
{% endblock content %}

{% block inline_javascript %}
{% endblock inline_javascript %}
